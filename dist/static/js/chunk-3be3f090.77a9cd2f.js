(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3be3f090"],{"0c04":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"search_box"},[n("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"物品名称"},model:{value:t.product_name,callback:function(e){t.product_name="string"===typeof e?e.trim():e},expression:"product_name"}}),n("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"物品编码"},model:{value:t.sku_id,callback:function(e){t.sku_id="string"===typeof e?e.trim():e},expression:"sku_id"}}),n("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"仓库"},model:{value:t.whse_id,callback:function(e){t.whse_id=e},expression:"whse_id"}},t._l(t.whse_list,(function(t){return n("el-option",{key:t.whseId,attrs:{label:t.whseName,value:t.whseId}})})),1),n("el-date-picker",{staticStyle:{width:"250px"},attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:t.creat_time,callback:function(e){t.creat_time=e},expression:"creat_time"}})],1),n("div",{staticStyle:{"margin-top":"20px"}},[n("el-button-group",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.getList(1)}}},[t._v("搜索")]),n("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-right"},on:{click:t.restParams}},[t._v("重置")]),n("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.out_product_excel}},[t._v("导出物品领用统计列表")])],1)],1),n("div",{staticClass:"table_box"},[n("el-table",{staticClass:"table",staticStyle:{width:"100%"},attrs:{data:t.customerList,stripe:"",border:"",height:"100%"}},[n("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return t.getDetail(e.$index,e.row.productId,e.row.productName)}}},[t._v("详情")])]}}])}),n("el-table-column",{attrs:{prop:"productName",label:"物品名称",align:"center"}}),n("el-table-column",{attrs:{prop:"skuId",label:"物品编号",align:"center"}}),n("el-table-column",{attrs:{label:"计量单位",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("sexToString")(e.row.unitType)))])]}}])}),n("el-table-column",{attrs:{prop:"amount",label:"期间领用数量",align:"center"}}),n("el-table-column",{attrs:{prop:"money",label:"期间领用金额",align:"center"}})],1)],1),n("el-dialog",{attrs:{title:"物品领用详情",visible:t.show_dialog,width:"650px"},on:{"update:visible":function(e){t.show_dialog=e}}},[n("span",{staticStyle:{"font-size":"15px"}},[t._v("物品名称:"+t._s(t.productName))]),n("el-table",{attrs:{data:t.productDetail}},[n("el-table-column",{attrs:{property:"contact",label:"领用人名称",width:"200"}}),n("el-table-column",{attrs:{property:"amount",label:"领用数量",width:"200"}}),n("el-table-column",{attrs:{property:"money",label:"领用金额"}})],1)],1),n("div",{staticClass:"page_box"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":15,"current-page":t.current,total:t.total},on:{"current-change":t.getList,"update:currentPage":function(e){t.current=e},"update:current-page":function(e){t.current=e}}})],1)],1)},i=[],r=(n("a434"),n("e5bf")),o=n("ed08"),s={data:function(){return{status_list:[{name:"启用",value:!0},{name:"禁用",value:!1}],creat_time:[Object(o["b"])(new Date((new Date).getTime()-2592e6),"{y}-{m}-{d} ")+"00:00:00",Object(o["b"])(new Date,"{y}-{m}-{d} ")+"23:59:59"],product_name:"",sku_id:"",whse_list:[],whse_id:"",customer_name:"",customer_phone:"",productName:"",isEnable:"",region:[],city:[],total:0,current:1,customerList:[],productDetail:[],regionName:"",editIndex:"",show_dialog:!1,customer_form:{status:"",name:"",user:"",amount:"",city:"",address:""},options:[],props:{value:"code",label:"regionName",children:"sonRegionList",checkStrictly:!0}}},mounted:function(){this.getList()},filters:{sexToString:function(t){return 2==t?"KG":1==t?"件":void 0}},methods:{getList:function(t){var e=this,n={pageNo:t||this.current,pageSize:15,productName:this.product_name,skuId:this.sku_id,whseId:this.whse_id};this.creat_time&&this.creat_time.length&&(n.createTime=this.creat_time[0],n.endTime=this.creat_time[1]),console.log(n),Object(r["d"])(n).then((function(t){e.customerList=t.records,e.total=t.total,e.current=t.current})),Object(r["e"])().then((function(t){e.whse_list=t,e.total=t.total,e.current=t.current}))},restParams:function(){this.product_name="",this.sku_id="",this.whse_id="",this.creat_time=[Object(o["b"])(new Date((new Date).getTime()-2592e6),"{y}-{m}-{d} {h}:{i}:{s}"),Object(o["b"])(new Date,"{y}-{m}-{d} {h}:{i}:{s}")]},open_add_customer:function(){this.editIndex="",this.customer_form={status:"",name:"",user:"",phone:"",city:"",address:""},this.show_dialog=!0},getDetail:function(t,e,n){var a=this;this.productName=n;var i={productId:e,productName:this.product_name,skuId:this.sku_id,whseId:this.whse_id};this.creat_time&&this.creat_time.length&&(i.createTime=this.creat_time[0],i.endTime=this.creat_time[1]),console.log(i),Object(r["b"])(i).then((function(t){a.productDetail=t,a.show_dialog=!0}))},handleDelete:function(t,e){var n=this;console.log(e),this.$confirm("此操作将永久删除该供应商, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){delSupplier({companyId:e}).then((function(e){n.$message.success("删除成功"),n.customerList.splice(t,1)}))}))},switchCompany:function(t,e,n){var a=this;console.log({companyId:n}),enableCompany({companyId:n}).then((function(n){a.$message.success("操作成功"),a.customerList[e].isEnable=t}))},out_product_excel:function(){var t={productName:this.product_name,skuId:this.sku_id,whseId:this.whse_id};this.creat_time&&this.creat_time.length&&(t.createTime=this.creat_time[0],t.endTime=this.creat_time[1]),window.open("//192.168.1.155:28081/product/excelOutRecord?productName="+t.productName+"&skuId="+t.skuId+"&whseId="+t.whseId+"&createTime="+t.createTime+"&endTime="+t.endTime+"&token="+this.$store.state.user.token)}}},c=s,l=(n("11c7"),n("2877")),u=Object(l["a"])(c,a,i,!1,null,"fef605e6",null);e["default"]=u.exports},"11c7":function(t,e,n){"use strict";n("aaf1")},aaf1:function(t,e,n){},e5bf:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return c}));var a=n("a880");function i(t){return a["a"].post("/product/recordList",t)}function r(){return a["a"].get("/warehouse/list")}function o(t){return a["a"].post("/product/recordDetail",t)}function s(t){return a["a"].post("/contact/recordList",t)}function c(t){return a["a"].post("/contact/recordDetail",t)}}}]);