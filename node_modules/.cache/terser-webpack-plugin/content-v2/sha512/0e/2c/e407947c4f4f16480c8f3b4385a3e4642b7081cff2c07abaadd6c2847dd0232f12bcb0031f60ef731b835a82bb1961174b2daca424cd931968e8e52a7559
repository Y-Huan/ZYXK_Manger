{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-6bb85c53\"],{\"28b1\":function(t,e,n){\"use strict\";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"search_box\"},[n(\"el-input\",{staticStyle:{width:\"200px\"},attrs:{clearable:\"\",placeholder:\"公司名称\"},model:{value:t.company_name,callback:function(e){t.company_name=\"string\"===typeof e?e.trim():e},expression:\"company_name\"}}),n(\"el-select\",{staticStyle:{width:\"100px\"},attrs:{placeholder:\"状态\"},model:{value:t.isEnable,callback:function(e){t.isEnable=e},expression:\"isEnable\"}},t._l(t.status_list,(function(t){return n(\"el-option\",{key:t.value,attrs:{label:t.name,value:t.value}})})),1),n(\"el-date-picker\",{staticStyle:{width:\"250px\"},attrs:{type:\"daterange\",\"range-separator\":\"至\",\"value-format\":\"yyyy-MM-dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:t.creat_time,callback:function(e){t.creat_time=e},expression:\"creat_time\"}}),n(\"el-button-group\",[n(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:function(e){return t.getList(1)}}},[t._v(\"搜索\")]),n(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-refresh-right\"},on:{click:t.restParams}},[t._v(\"重置\")]),n(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-circle-plus-outline\"},on:{click:t.open_add_company}},[t._v(\"新增\")])],1)],1),n(\"div\",{staticClass:\"table_box\"},[n(\"el-table\",{staticClass:\"table\",staticStyle:{width:\"100%\"},attrs:{data:t.companyList,stripe:\"\",border:\"\",height:\"100%\"}},[n(\"el-table-column\",{attrs:{prop:\"companyName\",label:\"公司名称\"}}),n(\"el-table-column\",{attrs:{prop:\"companyAddress\",label:\"公司地址\",width:\"500\"}}),n(\"el-table-column\",{attrs:{label:\"状态\",width:\"80\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"el-switch\",{attrs:{value:e.row.isEnable},on:{change:function(n){return t.switchCompany(n,e.$index,e.row.companyId)}}})]}}])}),n(\"el-table-column\",{attrs:{sortable:\"\",prop:\"createTime\",label:\"创建日期\",width:\"200\"}}),n(\"el-table-column\",{attrs:{label:\"操作\",width:\"160\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"el-button\",{attrs:{size:\"mini\",type:\"primary\"},on:{click:function(n){return t.handleEdit(e.$index,e.row.companyId)}}},[t._v(\"编辑\")]),n(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(n){return t.handleDelete(e.$index,e.row.companyId)}}},[t._v(\"删除\")])]}}])})],1)],1),n(\"el-dialog\",{attrs:{title:\"新增/编辑公司\",visible:t.show_dialog,width:\"650px\"},on:{\"update:visible\":function(e){t.show_dialog=e}}},[n(\"el-form\",{attrs:{model:t.company_form}},[n(\"el-form-item\",{attrs:{label:\"公司名称\",\"label-width\":\"120px\",required:\"\"}},[n(\"el-input\",{staticStyle:{width:\"400px\"},attrs:{clearable:\"\",placeholder:\"请输入公司名称\",maxlength:\"30\"},model:{value:t.company_form.companyName,callback:function(e){t.$set(t.company_form,\"companyName\",\"string\"===typeof e?e.trim():e)},expression:\"company_form.companyName\"}})],1),n(\"el-form-item\",{attrs:{label:\"公司地址\",\"label-width\":\"120px\"}},[n(\"el-input\",{staticStyle:{width:\"400px\"},attrs:{clearable:\"\",placeholder:\"请输入公司地址\",maxlength:\"50\"},model:{value:t.company_form.companyAddress,callback:function(e){t.$set(t.company_form,\"companyAddress\",\"string\"===typeof e?e.trim():e)},expression:\"company_form.companyAddress\"}})],1)],1),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{on:{click:function(e){t.show_dialog=!1}}},[t._v(\"取 消\")]),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.add_company}},[t._v(\"确 定\")])],1)],1),t.total>30?n(\"div\",{staticClass:\"page_box\"},[n(\"el-pagination\",{attrs:{background:\"\",layout:\"prev, pager, next\",\"page-size\":30,\"current-page\":t.current,total:t.total},on:{\"current-change\":t.getList,\"update:currentPage\":function(e){t.current=e},\"update:current-page\":function(e){t.current=e}}})],1):t._e()],1)},o=[],c=(n(\"a434\"),n(\"fcac\")),i={data:function(){return{status_list:[{name:\"启用\",value:!0},{name:\"禁用\",value:!1}],company_name:\"\",isEnable:\"\",creat_time:\"\",companyList:[],total:0,current:1,editIndex:\"\",show_dialog:!1,company_form:{companyName:\"\",companyAddress:\"\"}}},mounted:function(){this.getList()},methods:{getList:function(t){var e=this,n={pageNo:t||this.current,pageSize:30,companyName:this.company_name,isEnable:this.isEnable};this.creat_time&&this.creat_time.length&&(n.startDate=this.creat_time[0],n.endDate=this.creat_time[1]),Object(c[\"a\"])().then((function(t){e.companyList=t.records,e.total=t.total,e.current=t.current}))},restParams:function(){this.company_name=\"\",this.isEnable=\"\",this.creat_time=[]},open_add_company:function(){this.company_form={companyName:\"\",companyAddress:\"\"},this.show_dialog=!0},add_company:function(){var t=this;this.company_form.companyName?this.company_form.companyId?Object(c[\"d\"])(this.company_form).then((function(e){t.$message.success(\"保存成功\"),t.companyList[t.editIndex].companyName=t.company_form.companyName,t.companyList[t.editIndex].companyAddress=t.company_form.companyAddress,t.show_dialog=!1,t.$forceUpdate()})):Object(c[\"b\"])(this.company_form).then((function(e){t.$message.success(\"添加成功\"),t.getList(),t.show_dialog=!1})):this.$message.error(\"请输入公司名称\")},handleEdit:function(t,e){var n=this;this.editIndex=t,Object(c[\"f\"])({companyId:e}).then((function(t){n.company_form={companyName:t.companyName,companyAddress:t.companyAddress,companyId:e},n.show_dialog=!0}))},handleDelete:function(t,e){var n=this;this.$confirm(\"此操作将永久删除该公司, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){Object(c[\"c\"])({companyId:e}).then((function(e){n.$message.success(\"删除成功\"),n.companyList.splice(t,1)}))}))},switchCompany:function(t,e,n){var a=this;Object(c[\"e\"])({companyId:n}).then((function(n){a.$message.success(\"操作成功\"),a.companyList[e].isEnable=t}))}}},r=i,s=(n(\"ddd4\"),n(\"2877\")),l=Object(s[\"a\"])(r,a,o,!1,null,\"63835100\",null);e[\"default\"]=l.exports},\"9dd0\":function(t,e,n){},ddd4:function(t,e,n){\"use strict\";n(\"9dd0\")},fcac:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return o})),n.d(e,\"b\",(function(){return c})),n.d(e,\"d\",(function(){return i})),n.d(e,\"f\",(function(){return r})),n.d(e,\"c\",(function(){return s})),n.d(e,\"e\",(function(){return l}));var a=n(\"a880\");function o(t){return a[\"a\"].get(\"/company/list\",t)}function c(t){return a[\"a\"].post(\"/company/add\",t)}function i(t){return a[\"a\"].post(\"/company/update\",t)}function r(t){return a[\"a\"].get(\"/company/getCompany\",t)}function s(t){return a[\"a\"].put1(\"/company/delete\",t)}function l(t){return a[\"a\"].put1(\"/company/enable\",t)}}}]);","extractedComments":[]}