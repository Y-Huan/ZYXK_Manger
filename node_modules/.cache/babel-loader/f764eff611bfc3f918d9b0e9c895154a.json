{"remainingRequest":"/Users/neoone/Desktop/毕业设计相关/ZYXK_Manager/node_modules/babel-loader/lib/index.js!/Users/neoone/Desktop/毕业设计相关/ZYXK_Manager/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/neoone/Desktop/毕业设计相关/ZYXK_Manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/neoone/Desktop/毕业设计相关/ZYXK_Manager/src/views/company/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/neoone/Desktop/毕业设计相关/ZYXK_Manager/src/views/company/index.vue","mtime":1642744169385},{"path":"/Users/neoone/Desktop/毕业设计相关/ZYXK_Manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/neoone/Desktop/毕业设计相关/ZYXK_Manager/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/neoone/Desktop/毕业设计相关/ZYXK_Manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/neoone/Desktop/毕业设计相关/ZYXK_Manager/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY29tcGFueUxpc3QsIGNyZWF0Q29tcGFueSwgZWRpdENvbXBhbnksIGdldENvbXBhbnksIGRlbENvbXBhbnksIGVuYWJsZUNvbXBhbnkgfSBmcm9tICdAL2FwaS9jb21wYW55JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdGF0dXNfbGlzdDogW3sKICAgICAgICBuYW1lOiAn5ZCv55SoJywKICAgICAgICB2YWx1ZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+emgeeUqCcsCiAgICAgICAgdmFsdWU6IGZhbHNlCiAgICAgIH1dLAogICAgICBjb21wYW55X25hbWU6ICcnLAogICAgICBpc0VuYWJsZTogJycsCiAgICAgIGNyZWF0X3RpbWU6ICcnLAogICAgICBjb21wYW55TGlzdDogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICBjdXJyZW50OiAxLAogICAgICBlZGl0SW5kZXg6ICcnLAogICAgICBzaG93X2RpYWxvZzogZmFsc2UsCiAgICAgIGNvbXBhbnlfZm9ybTogewogICAgICAgIGNvbXBhbnlOYW1lOiAnJywKICAgICAgICBjb21wYW55QWRkcmVzczogJycKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QocGFnZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgcGFnZU5vOiBwYWdlIHx8IHRoaXMuY3VycmVudCwKICAgICAgICBwYWdlU2l6ZTogMzAsCiAgICAgICAgY29tcGFueU5hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgIGlzRW5hYmxlOiB0aGlzLmlzRW5hYmxlCiAgICAgIH07CgogICAgICBpZiAodGhpcy5jcmVhdF90aW1lICYmIHRoaXMuY3JlYXRfdGltZS5sZW5ndGgpIHsKICAgICAgICBkYXRhLnN0YXJ0RGF0ZSA9IHRoaXMuY3JlYXRfdGltZVswXTsKICAgICAgICBkYXRhLmVuZERhdGUgPSB0aGlzLmNyZWF0X3RpbWVbMV07CiAgICAgIH0KCiAgICAgIGNvbXBhbnlMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuY29tcGFueUxpc3QgPSByZXMucmVjb3JkczsKICAgICAgICBfdGhpcy50b3RhbCA9IHJlcy50b3RhbDsKICAgICAgICBfdGhpcy5jdXJyZW50ID0gcmVzLmN1cnJlbnQ7CiAgICAgIH0pOwogICAgfSwKICAgIHJlc3RQYXJhbXM6IGZ1bmN0aW9uIHJlc3RQYXJhbXMoKSB7CiAgICAgIHRoaXMuY29tcGFueV9uYW1lID0gJyc7CiAgICAgIHRoaXMuaXNFbmFibGUgPSAnJzsKICAgICAgdGhpcy5jcmVhdF90aW1lID0gW107CiAgICB9LAogICAgb3Blbl9hZGRfY29tcGFueTogZnVuY3Rpb24gb3Blbl9hZGRfY29tcGFueSgpIHsKICAgICAgdGhpcy5jb21wYW55X2Zvcm0gPSB7CiAgICAgICAgY29tcGFueU5hbWU6ICcnLAogICAgICAgIGNvbXBhbnlBZGRyZXNzOiAnJwogICAgICB9OwogICAgICB0aGlzLnNob3dfZGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBhZGRfY29tcGFueTogZnVuY3Rpb24gYWRkX2NvbXBhbnkoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmNvbXBhbnlfZm9ybS5jb21wYW55TmFtZSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+i+k+WFpeWFrOWPuOWQjeensCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmNvbXBhbnlfZm9ybS5jb21wYW55SWQpIHsKICAgICAgICBjcmVhdENvbXBhbnkodGhpcy5jb21wYW55X2Zvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpOwoKICAgICAgICAgIF90aGlzMi5nZXRMaXN0KCk7CgogICAgICAgICAgX3RoaXMyLnNob3dfZGlhbG9nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZWRpdENvbXBhbnkodGhpcy5jb21wYW55X2Zvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/neWtmOaIkOWKnycpOwoKICAgICAgICAgIF90aGlzMi5jb21wYW55TGlzdFtfdGhpczIuZWRpdEluZGV4XS5jb21wYW55TmFtZSA9IF90aGlzMi5jb21wYW55X2Zvcm0uY29tcGFueU5hbWU7CiAgICAgICAgICBfdGhpczIuY29tcGFueUxpc3RbX3RoaXMyLmVkaXRJbmRleF0uY29tcGFueUFkZHJlc3MgPSBfdGhpczIuY29tcGFueV9mb3JtLmNvbXBhbnlBZGRyZXNzOwogICAgICAgICAgX3RoaXMyLnNob3dfZGlhbG9nID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMyLiRmb3JjZVVwZGF0ZSgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdChpbmRleCwgaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmVkaXRJbmRleCA9IGluZGV4OwogICAgICBnZXRDb21wYW55KHsKICAgICAgICBjb21wYW55SWQ6IGlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5jb21wYW55X2Zvcm0gPSB7CiAgICAgICAgICBjb21wYW55TmFtZTogcmVzLmNvbXBhbnlOYW1lLAogICAgICAgICAgY29tcGFueUFkZHJlc3M6IHJlcy5jb21wYW55QWRkcmVzcywKICAgICAgICAgIGNvbXBhbnlJZDogaWQKICAgICAgICB9OwogICAgICAgIF90aGlzMy5zaG93X2RpYWxvZyA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKGluZGV4LCBpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeWFrOWPuCwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBkZWxDb21wYW55KHsKICAgICAgICAgIGNvbXBhbnlJZDogaWQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKTsKCiAgICAgICAgICBfdGhpczQuY29tcGFueUxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc3dpdGNoQ29tcGFueTogZnVuY3Rpb24gc3dpdGNoQ29tcGFueShlLCBpbmRleCwgaWQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBlbmFibGVDb21wYW55KHsKICAgICAgICBjb21wYW55SWQ6IGlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKCfmk43kvZzmiJDlip8nKTsKCiAgICAgICAgX3RoaXM1LmNvbXBhbnlMaXN0W2luZGV4XS5pc0VuYWJsZSA9IGU7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA,SAAA,WAAA,EAAA,YAAA,EAAA,WAAA,EAAA,UAAA,EAAA,UAAA,EAAA,aAAA,QAAA,eAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA,EAAA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA,CADA;AAEA,MAAA,YAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,UAAA,EAAA,EAJA;AAKA,MAAA,WAAA,EAAA,EALA;AAMA,MAAA,KAAA,EAAA,CANA;AAOA,MAAA,OAAA,EAAA,CAPA;AAQA,MAAA,SAAA,EAAA,EARA;AASA,MAAA,WAAA,EAAA,KATA;AAUA,MAAA,YAAA,EAAA;AACA,QAAA,WAAA,EAAA,EADA;AAEA,QAAA,cAAA,EAAA;AAFA;AAVA,KAAA;AAeA,GAjBA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,SAAA,OAAA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,IADA,EACA;AAAA;;AACA,UAAA,IAAA,GAAA;AACA,QAAA,MAAA,EAAA,IAAA,IAAA,KAAA,OADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,WAAA,EAAA,KAAA,YAHA;AAIA,QAAA,QAAA,EAAA,KAAA;AAJA,OAAA;;AAMA,UAAA,KAAA,UAAA,IAAA,KAAA,UAAA,CAAA,MAAA,EAAA;AACA,QAAA,IAAA,CAAA,SAAA,GAAA,KAAA,UAAA,CAAA,CAAA,CAAA;AACA,QAAA,IAAA,CAAA,OAAA,GAAA,KAAA,UAAA,CAAA,CAAA,CAAA;AACA;;AACA,MAAA,WAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,GAAA,CAAA,OAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,GAAA,CAAA,OAAA;AACA,OAJA;AAKA,KAjBA;AAkBA,IAAA,UAlBA,wBAkBA;AACA,WAAA,YAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,KAtBA;AAuBA,IAAA,gBAvBA,8BAuBA;AACA,WAAA,YAAA,GAAA;AACA,QAAA,WAAA,EAAA,EADA;AAEA,QAAA,cAAA,EAAA;AAFA,OAAA;AAIA,WAAA,WAAA,GAAA,IAAA;AACA,KA7BA;AA8BA,IAAA,WA9BA,yBA8BA;AAAA;;AACA,UAAA,CAAA,KAAA,YAAA,CAAA,WAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,SAAA;AACA;AACA;;AACA,UAAA,CAAA,KAAA,YAAA,CAAA,SAAA,EAAA;AACA,QAAA,YAAA,CAAA,KAAA,YAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,UAAA,MAAA,CAAA,OAAA;;AACA,UAAA,MAAA,CAAA,WAAA,GAAA,KAAA;AACA,SAJA;AAKA,OANA,MAMA;AACA,QAAA,WAAA,CAAA,KAAA,YAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,UAAA,MAAA,CAAA,WAAA,CAAA,MAAA,CAAA,SAAA,EAAA,WAAA,GAAA,MAAA,CAAA,YAAA,CAAA,WAAA;AACA,UAAA,MAAA,CAAA,WAAA,CAAA,MAAA,CAAA,SAAA,EAAA,cAAA,GAAA,MAAA,CAAA,YAAA,CAAA,cAAA;AACA,UAAA,MAAA,CAAA,WAAA,GAAA,KAAA;;AACA,UAAA,MAAA,CAAA,YAAA;AACA,SANA;AAOA;AACA,KAlDA;AAmDA,IAAA,UAnDA,sBAmDA,KAnDA,EAmDA,EAnDA,EAmDA;AAAA;;AACA,WAAA,SAAA,GAAA,KAAA;AACA,MAAA,UAAA,CAAA;AAAA,QAAA,SAAA,EAAA;AAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,YAAA,GAAA;AACA,UAAA,WAAA,EAAA,GAAA,CAAA,WADA;AAEA,UAAA,cAAA,EAAA,GAAA,CAAA,cAFA;AAGA,UAAA,SAAA,EAAA;AAHA,SAAA;AAKA,QAAA,MAAA,CAAA,WAAA,GAAA,IAAA;AACA,OAPA;AAQA,KA7DA;AA8DA,IAAA,YA9DA,wBA8DA,KA9DA,EA8DA,EA9DA,EA8DA;AAAA;;AACA,WAAA,QAAA,CAAA,oBAAA,EAAA,IAAA,EAAA;AACA,QAAA,iBAAA,EAAA,IADA;AAEA,QAAA,gBAAA,EAAA,IAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAIA,YAAA;AACA,QAAA,UAAA,CAAA;AAAA,UAAA,SAAA,EAAA;AAAA,SAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,UAAA,MAAA,CAAA,WAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,SAHA;AAIA,OATA;AAUA,KAzEA;AA0EA,IAAA,aA1EA,yBA0EA,CA1EA,EA0EA,KA1EA,EA0EA,EA1EA,EA0EA;AAAA;;AACA,MAAA,aAAA,CAAA;AAAA,QAAA,SAAA,EAAA;AAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,QAAA,MAAA,CAAA,WAAA,CAAA,KAAA,EAAA,QAAA,GAAA,CAAA;AACA,OAHA;AAIA;AA/EA;AArBA,CAAA","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"search_box\">\n      <el-input v-model.trim=\"company_name\" clearable placeholder=\"公司名称\" style=\"width: 200px;\"></el-input>\n      <el-select v-model=\"isEnable\" placeholder=\"状态\" style=\"width: 100px;\">\n          <el-option\n            v-for=\"item in status_list\"\n            :key=\"item.value\"\n            :label=\"item.name\"\n            :value=\"item.value\">\n          </el-option>\n      </el-select>\n      <el-date-picker\n        v-model=\"creat_time\"\n        type=\"daterange\"\n        range-separator=\"至\"\n        value-format=\"yyyy-MM-dd\"\n        start-placeholder=\"开始日期\"\n        style=\"width: 250px;\"\n        end-placeholder=\"结束日期\">\n      </el-date-picker>\n      <el-button-group>\n        <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"getList(1)\">搜索</el-button>\n        <el-button type=\"primary\" icon=\"el-icon-refresh-right\" @click=\"restParams\">重置</el-button>\n        <el-button type=\"primary\" icon=\"el-icon-circle-plus-outline\" @click=\"open_add_company\">新增</el-button>\n      </el-button-group>\n    </div>\n    <div class=\"table_box\">\n      <el-table\n          :data=\"companyList\"\n          stripe\n          border\n\t\t  class=\"table\"\n          height=\"100%\"\n          style=\"width: 100%\">\n          <el-table-column\n            prop=\"companyName\"\n            label=\"公司名称\">\n          </el-table-column>\n          <el-table-column\n            prop=\"companyAddress\"\n            label=\"公司地址\"\n            width=\"500\">\n          </el-table-column>\n          <el-table-column label=\"状态\" width=\"80\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-switch :value=\"scope.row.isEnable\" @change=\"switchCompany($event,scope.$index,scope.row.companyId)\"></el-switch>\n            </template>\n          </el-table-column>\n          <el-table-column\n            sortable\n            prop=\"createTime\"\n            label=\"创建日期\"\n            width=\"200\">\n          </el-table-column>\n          <el-table-column label=\"操作\" width=\"160\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-button\n                size=\"mini\"\n                type=\"primary\"\n                @click=\"handleEdit(scope.$index,scope.row.companyId)\">编辑</el-button>\n              <el-button\n                size=\"mini\"\n                type=\"danger\"\n                @click=\"handleDelete(scope.$index,scope.row.companyId)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n    </div>\n    <!-- 新增公司 -->\n    <el-dialog title=\"新增/编辑公司\" :visible.sync=\"show_dialog\" width=\"650px\">\n      <el-form :model=\"company_form\">\n        <el-form-item label=\"公司名称\" label-width=\"120px\" required>\n          <el-input v-model.trim=\"company_form.companyName\" clearable placeholder=\"请输入公司名称\" maxlength=\"30\" style=\"width: 400px;\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"公司地址\" label-width=\"120px\">\n          <el-input v-model.trim=\"company_form.companyAddress\" clearable placeholder=\"请输入公司地址\" maxlength=\"50\" style=\"width: 400px;\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"show_dialog = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"add_company\">确 定</el-button>\n      </div>\n    </el-dialog>\n    <div class=\"page_box\" v-if=\"total>30\">\n      <el-pagination\n        background\n        layout=\"prev, pager, next\"\n        @current-change=\"getList\"\n        :page-size=\"30\"\n        :current-page.sync=\"current\"\n        :total=\"total\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\n  import {companyList,creatCompany,editCompany,getCompany,delCompany,enableCompany} from '@/api/company'\n  export default{\n    data(){\n      return{\n        status_list:[{name:'启用',value:true},{name:'禁用',value:false}],\n        company_name:'',\n        isEnable:'',\n        creat_time:'',\n        companyList:[],\n        total:0,\n        current:1,\n        editIndex:'',\n        show_dialog:false,\n        company_form:{\n          companyName:'',\n          companyAddress:''\n        }\n      }\n    },\n    mounted() {\n      this.getList();\n    },\n    methods:{\n      getList(page){\n        var data = {\n          pageNo:page||this.current,\n          pageSize:30,\n          companyName:this.company_name,\n          isEnable:this.isEnable\n        }\n        if(this.creat_time&&this.creat_time.length){\n          data.startDate =  this.creat_time[0];\n          data.endDate =  this.creat_time[1];\n        }\n        companyList().then(res=>{\n          this.companyList = res.records;\n          this.total = res.total;\n          this.current = res.current;\n        })\n      },\n      restParams(){\n        this.company_name = '';\n        this.isEnable = '';\n        this.creat_time = [];\n      },\n      open_add_company(){\n        this.company_form = {\n          companyName:'',\n          companyAddress:''\n        }\n        this.show_dialog = true;\n      },\n      add_company(){\n        if(!this.company_form.companyName){\n          this.$message.error('请输入公司名称');\n          return\n        }\n        if(!this.company_form.companyId){\n          creatCompany(this.company_form).then(res=>{\n            this.$message.success('添加成功');\n            this.getList();\n            this.show_dialog = false;\n          })\n        }else{\n          editCompany(this.company_form).then(res=>{\n            this.$message.success('保存成功');\n            this.companyList[this.editIndex].companyName = this.company_form.companyName;\n            this.companyList[this.editIndex].companyAddress = this.company_form.companyAddress;\n            this.show_dialog = false;\n            this.$forceUpdate();\n          })\n        }\n      },\n      handleEdit(index,id){\n        this.editIndex = index;\n        getCompany({companyId:id}).then(res=>{\n          this.company_form = {\n            companyName:res.companyName,\n            companyAddress:res.companyAddress,\n            companyId:id\n          }\n          this.show_dialog = true;\n        })\n      },\n      handleDelete(index,id){\n        this.$confirm('此操作将永久删除该公司, 是否继续?', '提示', {\n        \tconfirmButtonText: '确定',\n        \tcancelButtonText: '取消',\n        \ttype: 'warning'\n        }).then(() => {\n        \tdelCompany({companyId:id}).then(res=>{\n        \t\tthis.$message.success('删除成功');\n        \t\tthis.companyList.splice(index,1);\n        \t})\n        })\n      },\n      switchCompany(e,index,id){\n        enableCompany({companyId:id}).then(res=>{\n          this.$message.success('操作成功');\n          this.companyList[index].isEnable = e;\n        })\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .search_box{\n    .el-input,.el-select,.el-date-editor{\n      margin-right: 4px;\n    }\n  }\n  .table_box{\n    flex:1;\n    margin-top: 10px;\n    overflow: hidden;\n  }\n</style>\n"],"sourceRoot":"src/views/company"}]}